<html>

<head>
    <meta charset="UTF-8" />
    <title>Programação Estruturada</title>
</head>

<body>
    <h1>Entrada do Programa</h1>
    aperte OK para iniciar
    <button onclick='executarExercicio()'>OK</button>
    <p id="resultado"></p>
    <script>
        function executarExercicio() {
            var numeros = [];
            var contagem = {};
            var maiorCont = 0;
            var numMax = null;
            var indice = [];

            do {
                var input = prompt('insira um valor (0 para parar)');
                var a = parseInt(input);
                if (!isNaN(a) && a !== 0) {
                    numeros.push(a);
                }
            } while (a !== 0);


            for (let i = 0; i < numeros.length; i++) {
                var elemento = numeros[i];
                if (!contagem[elemento]) {
                    contagem[elemento] = 1;
                } else {
                    contagem[elemento]++;
                }
            }


            for (let key in contagem) {
                if (contagem[key] > maiorCont) {
                    maiorCont = contagem[key];
                    numMax = parseInt(key);
                }
            }

            if (numeros.length === 0) {
                document.getElementById('resultado').innerHTML = 'Nenhum número válido inserido.';
                return;
            }

            for (let j = 0; j < numeros.length; j++) {
                if (numeros[j] === numMax) {
                    indice.push(j);
                }
            }

            var r = `numero mais frequente: ${numMax} (${maiorCont} vezes) <br> indices: ${indice.join(', ')}`;
            document.getElementById('resultado').innerHTML = r;
        }
    </script>
</body>

</html>